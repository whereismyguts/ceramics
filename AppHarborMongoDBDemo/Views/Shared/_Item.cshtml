@model Thingy
@{
    Layout = null;
}
<div class="item-content">
    <h1>@Model.Name</h1>

    @if(Model.Images != null) {
        <div class="image-container">
            @foreach(var image in Model.Images) {
                <div>
                    <img src="data:image/png;base64,  @Convert.ToBase64String(image)">
                </div>
            }
        </div>
    }
    <div class="item-description">
        @Model.Description
    </div>
    <div class="item-price">
        @Model.Price
    </div>
    @{
        string controllerName = this.ViewContext.RouteData.Values["controller"].ToString();

        <div id="buy-item" onclick="buyItem('@Model.Id')" class="button" @*href="/buy/@Model.Id"*@>Купить</div>

    }

    <script>
        function buyItem(id){
            $.ajax({
                type: "POST",
                url: "/Home/AddToCart",
                data: { itemId: id },
            success: function (res) {
                refreshCart();
            },
            datatype: "json",
            traditional: true
        });
        }
    </script>
</div>